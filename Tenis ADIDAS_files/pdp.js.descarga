(()=>{(function(){if(window._fitAnalytics)return;var t={prefix:"liverpool-",products:{},isMobile:/iphone|android|iemobile|blackberry/i.test(window.navigator.userAgent)&&"ontouchstart"in window,el:{productContainer:"div.container.o-product__mainContainer",sizes:"ul#size-list-container li button",addToCart:"button#opc_pdp_addCartButton",thumbnail:"div.pzlcontainerviewer.viewerImg img",garmentId:"p.m-product__information--code span",buttonAnchor:"div.m-product__size",colourSwatches:"li.a-productColor__item",currentSize:"#size-list-container button.active",loadingSpinner:"div.loading"},intervals:{},hideSizeChart:!0,blockedLocales:[],initialize:function(){var e=setInterval(function(){t.isLoaded()&&(clearInterval(e),t.onLoaded())},100)},isLoaded:function(){var e=window.dataLayer||[],n=e.filter(i=>i.event==="fitaColorData"||i.event==="fit_analytics_integration").length>=2;return typeof window.FitAnalyticsWidget=="function"&&n},isBlockedLocale:function(){var e=[t.getLanguage(),t.getCountry()].join("_");return t.blockedLocales.indexOf(e)>-1},onLoaded:function(){t.$=FitAnalyticsWidget.jQuery,t._=FitAnalyticsWidget._,t.isDataAvailable()&&!t.isBlockedLocale()&&t.onPageLoaded()},getCookie:e=>{var n=document.cookie.split(";");e=e+"=";for(var i=0,r=n.length;i<r;i++){var o=String(n[i]).replace(/^\s+/,"");if(o.indexOf(e)===0)return decodeURIComponent(o.substring(e.length,o.length))}return null},isDataAvailable:function(){var e=t.getCurrentSerial(),n=t.getSerials();return!!(e&&n.length)},find:function(e){return t.getContainer().find(e)},getContainer:function(){return t.$(t.el.productContainer)},getCurrentRawSerial:function(){var e=window.dataLayer.filter(s=>s.event==="fitaColorData"),n=a(e.pop(),"fitaColorData.allColors",[]),i=t.$(t.el.colourSwatches).index(t.$(t.el.colourSwatches+".active")),r=n[i],o=t.getGarmentID();return o&&r?o+"-"+r.replace(/[^a-zA-Z0-9_.-]/g,"").toUpperCase():""},getCurrentSerial:function(){var e=t.getCurrentRawSerial();return e&&t.prefix+e},getRawSerials:function(){var e=window.dataLayer.filter(r=>r.event==="fitaColorData"),n=a(e.pop(),"fitaColorData.allColors",[]),i=t.getGarmentID();return i?n.map(r=>t.getGarmentID()+"-"+r.replace(/[^a-zA-Z0-9_.-]/g,"").toUpperCase()):[]},getFitAnalyticsData:function(){return window.dataLayer.filter(e=>e.event==="fit_analytics_integration").pop()},getGarmentID:function(){return a(t.getFitAnalyticsData(),"fit_analytics_integration.currentSerial","")},getSerials:function(){var e=t.getRawSerials();return e.map(function(n){return t.prefix+n})},getSizes:function(){var e=[];return e.dic={},e.state={},t.find(t.el.sizes).toArray().forEach(function(n){var i=t.$(n),r=d(i.text()),o=!i.hasClass("-disabled");r&&(e.state[r]=o,o&&(e.push(r),e.dic[r]=i))}),e},getLanguage:function(){return a(t.getFitAnalyticsData(),"fit_analytics_integration.shopLanguage","").toLowerCase()},getCountry:function(){return a(t.getFitAnalyticsData(),"fit_analytics_integration.shopCountry","").toUpperCase()},getThumbnail:function(){return t.find(t.el.thumbnail).first().attr("src")},getUserId:function(){return a(window,"sessionStorage.gtm","")},getSizeChart:function(){return t.find(t.el.sizeChart)},getRootDomain:function(){var e=a(window,"location.hostname",""),n=/(liverpool|gap)\.[a-z\.]+$/g.exec(e),i=n!=null?n[0]:null;return i},getContext:function(e){return t.products[e]},setContext:function(e,n){return t.products[e]=t._.extend({},t.products[e],n)},onPageLoaded:function(){t.loadWidget(),t.requestProducts(),t.getSizeChart().on("click.fita",function(){t.widget.meterClick("sizeChart",{garmentId:t.getCurrentSerial()})})},loadWidget:function(){t.widget=new window.FitAnalyticsWidget({localCookieDomain:t.getRootDomain(),language:t.getLanguage(),shopCountry:t.getCountry(),userId:t.getUserId(),shopSessionId:t.getCookie("_gid")||"",recommend:function(e,n,i){t.recommend(e,n,i)},cart:function(e,n,i){t.recommend(e,n,i),t.addToCart(n)},close:function(e,n,i){t.recommend(e,n,i),t.button.find().focus()},open:function(){Object.keys(t.products).forEach(function(e){var n=t.products[e]||{};n.recommendation=null})}})},addToCart:function(e){var n=t.$(t.el.loadingSpinner).first(),i=50,r=setInterval(function(){t.getCurrentSize()===e&&n.css("display")==="none"?(clearInterval(r),l(t.find(t.el.addToCart))):--i==0&&clearInterval(r)},250);l(t.getSizes().dic[e])},getCurrentSize:function(){var e=t.find(t.el.currentSize).text()||"";return d(e)||""},requestProducts:function(){t.collectProducts();var e=t.getSerials();t.widget.requestProducts(e,function(n){n.forEach(function(i){t.setContext(i.garment.serial,{isSupported:!0})}),t.intervals.checkForProductChange||t.checkForProductChange()})},collectProducts:function(){var e=t.getSerials();e.forEach(function(n){t.setContext(n,{isSupported:!1})})},recommend:function(e,n,i){t.addRecommendationToContext(e,n,i),t.button.setText(n,i)},addRecommendationToContext:function(e,n,i){t.setContext(e,{recommendation:{size:n,details:i}})},checkForProductChange:function(){(function(){var e;t.intervals.checkForProductChange=setInterval(function(){var n=t.getCurrentSerial();e!==n&&(e=n,e&&t.onProductChange())},200)})()},onProductChange:function(){t.products[t.getCurrentSerial()]||(t.requestProducts(),t.getSizeChart().on("click.fita",function(){t.widget.meterClick("sizeChart",{garmentId:t.getCurrentSerial()})})),t.reconfigure()},reconfigure:function(){var e=t.getCurrentSerial();t.widget.reconfigure({productId:e},t.onProductLoaded,t.onProductError)},onProductLoaded:function(){t.widget.meterProductVisit(t.getCurrentSerial(),!0),t.installButton()},onProductError:function(){t.widget.meterProductVisit(t.getCurrentSerial(),!1),t.button.hide(),t.getSizeChart().show()},installButton:function(){t.button.install();var e=t.getContext(t.getCurrentSerial());e.recommendation?t.button.setText(e.recommendation.size,e.recommendation.details):(e.recommendation=!0,t.getRecommendation()),t.hideSizeChart&&t.getSizeChart().hide(),t.button.show()},getRecommendation:function(){t.widget.getRecommendation({productId:t.getCurrentSerial(),thumb:t.getThumbnail(),manufacturedSizes:t.getSizes().state})},button:{elementId:"fitanalytics__button",text:{bg:["\u041D\u0430\u043C\u0435\u0440\u0438 \u0441\u0432\u043E\u044F \u0440\u0430\u0437\u043C\u0435\u0440","\u0412\u0430\u0448\u0438\u044F\u0442 \u0440\u0430\u0437\u043C\u0435\u0440 \u0435 (size)"],ca:["Rebi una recomanaci\xF3 de talla","La seva talla \xE9s (size)"],cs:["Zjist\u011Bte svou velikost","Va\u0161e velikost je (size)"],da:["Find din st\xF8rrelse","Din st\xF8rrelse er (size)"],de:["Finde deine Gr\xF6\xDFe","Deine Gr\xF6\xDFe ist (size)"],el:["\u0392\u03C1\u03B5\u03C2 \u03C4\u03BF \u03BC\u03AD\u03B3\u03B5\u03B8\u03CC\u03C2 \u03C3\u03BF\u03C5","\u03A4\u03BF \u03BC\u03AD\u03B3\u03B5\u03B8\u03CC\u03C2 \u03C3\u03BF\u03C5 \u03B5\u03AF\u03BD\u03B1\u03B9 (size)"],en:["Find your size","Your size is (size)"],es:["Encuentra tu talla","Tu talla es (size)"],fi:["L\xF6yd\xE4 oma kokosi","Sinun kokosi on (size)"],fr:["Trouver ma taille","Votre taille est (size)"],hr:["Prona\u0111ite svoju veli\u010Dinu","Va\u0161a veli\u010Dina je (size)"],hu:["Tal\xE1ld meg a m\xE9reted","A m\xE9reted (size)"],it:["Trova la tua taglia","La tua taglia \xE8 (size)"],ja:["\u30B5\u30A4\u30BA\u3092\u898B\u3064\u3051\u307E\u3057\u3087\u3046","\u3042\u306A\u305F\u306E\u30B5\u30A4\u30BA\uFF1A (size)"],ko:["\uC0AC\uC774\uC988 \uCC3E\uAE30","\uACE0\uAC1D\uB2D8\uC758 \uC0AC\uC774\uC988\uB294 (size) \uC785\uB2C8\uB2E4"],mk:["\u041F\u0440\u043E\u043D\u0430\u0458\u0434\u0435\u0442\u0435 \u0458\u0430 \u0441\u0432\u043E\u0458\u0430\u0442\u0430 \u0433\u043E\u043B\u0435\u043C\u0438\u043D\u0430","\u0412\u0430\u0448\u0430\u0442\u0430 \u0433\u043E\u043B\u0435\u043C\u0438\u043D\u0430 \u0435 (size)"],nl:["Vind jouw maat","Jouw maat is (size)"],no:["Finn st\xF8rrelsen din","St\xF8rrelsen din er (size)"],pl:["Znajd\u017A m\xF3j rozmiar","Tw\xF3j rozmiar to (size)"],pt:["Encontrar seu tamanho","Seu tamanho \xE9 (size)"],ro:["G\u0103se\u0219te-mi m\u0103rimea","M\u0103rimea dvs. este (size)"],ru:["\u041D\u0430\u0439\u0434\u0438\u0442\u0435 \u0441\u0432\u043E\u0439 \u0440\u0430\u0437\u043C\u0435\u0440","\u0412\u0430\u0448 \u0440\u0430\u0437\u043C\u0435\u0440 (size)"],sk:["Zistite svoju ve\u013Ekos\u0165","Va\u0161a ve\u013Ekos\u0165 je: (size)"],sl:["Poi\u0161\u010Dite svojo velikost","Va\u0161a velikost je (size)"],sv:["Hitta din storlek","Din storlek \xE4r (size)"],tr:["Size uyan bedeni bulun","Sizin bedeniniz (size)"],zh:["\u627E\u5230\u60A8\u7684\u5C3A\u5BF8","\u60A8\u7684\u5C3A\u5BF8\u662F (size)"]},getText:function(e,n){var i=!!(typeof e=="string"&&t.getSizes().state[e]&&!n.outOfStock&&!n.outOfRange),r=this.text[t.getLanguage()]||this.text.en;return i?r[1].replace("(size)","<b>"+e+"</b>"):r[0]},setText:function(e,n){this.find().find(".fitanalytics__button-text").html(this.getText(e,n)),this.find().attr("aria-label",this.getText(e,n).replace(/<\/?b>/g,""))},buildButton:function(){var e=this.getText();return t.$("<a></a>").attr({id:this.elementId,tabindex:"0",role:"button","aria-label":this.getText()||this.text.en}).css({cursor:"auto","margin-top":"10px","margin-bottom":"10px",display:"block",width:"fit-content"}).on("keypress",this.onKeyboardPress).on("click",this.onClick).append(t.$("<img>").attr({alt:this.getText(),src:"//integrations.fitanalytics.com/shop/liverpool/liverpool_logo.svg",onmouseover:"this.style.opacity=0.8;return false;",onmouseleave:"this.style.opacity=1;return false;"}).css({width:"22px",height:"22px",cursor:"pointer",display:"inline-block","margin-right":"10px"})).append(t.$("<span></span>").attr({class:"fitanalytics__button-text",onmouseover:'this.style.textDecoration="none";return false;',onmouseleave:'this.style.textDecoration="underline";return false;'}).css({display:"inline-block","text-decoration":"underline",cursor:"pointer","vertical-align":"top","font-size":"13px",color:"#5a5649","line-height":"23px"}).text(e))},isInitialized:!1,show:function(){this.find().show()},hide:function(){this.find().hide()},find:function(){return t.find("#"+this.elementId)},onClick:function(){return t.widget.meterClick("sizeAdvisor",{garmentId:t.getCurrentSerial()}),t.widget.open({productId:t.getCurrentSerial(),thumb:t.getThumbnail(),manufacturedSizes:t.getSizes().state}),!1},onKeyboardPress:function(e){e.preventDefault();var n=e.which;(n===13||n===32)&&t.button.onClick()},install:function(){if(!this.find().length){var e=this.buildButton();t.find(t.el.buttonAnchor).append(e)}}}};function c(){var e=document.createElement("script");e.setAttribute("src","//widget.fitanalytics.com/widget_zepto.js"),e.setAttribute("type","text/javascript"),document.body.appendChild(e),t.initialize(),window._fitAnalytics=window._upcload=function(){},window._fitAnalytics.shop=t}var l=function(e){return!e||!t.$?!1:(e instanceof t.$||t.$.zepto&&t.$.zepto.isZ(e)||(e=t.$(e)),typeof e.prop=="function"&&e.prop("tagName")==="OPTION"?e.parent().val(e.val()).change():(t.isMobile&&typeof e.tap=="function"||typeof e.click=="function")&&e.click(),e)},d=function(e){return typeof e!="string"?"":e.replace(/^["'\s\uFEFF\xA0]+|[\s\uFEFF\xA0"']+$/g,"")},a=function(e,n,i){e=e&&e instanceof Object?e:{},i==null&&(i=null),n==="."&&(n="");for(var r=Object.prototype.toString.apply(n)==="[object Array]"?n:n.split("."),o=0,s=r.length;o<s;o++){var u=e[r[o]];if(u!=null)e=u;else return i}return u};document.readyState==="interactive"||document.readyState==="complete"?c():document.addEventListener("DOMContentLoaded",function(){c()})})();})();
//# sourceMappingURL=pdp.js.map
